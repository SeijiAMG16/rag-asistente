{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amaya\\\\Downloads\\\\rag-asistente-main\\\\rag-asistente-main\\\\frontend-react\\\\src\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { register } from \"./api\";\n\n/**\r\n * Componente de registro de usuarios\r\n * Permite crear nuevas cuentas conectando con el endpoint /auth/register del backend\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register({\n  onRegister,\n  onBackToLogin\n}) {\n  _s();\n  // Estados del formulario de registro\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  /**\r\n   * Maneja el envío del formulario de registro\r\n   * Valida los datos y envía la petición al backend\r\n   */\n  async function handleRegister(e) {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Validaciones del lado del cliente\n    if (!username.trim() || !email.trim() || !password || !confirmPassword) {\n      setError(\"Todos los campos son requeridos\");\n      setLoading(false);\n      return;\n    }\n    if (password !== confirmPassword) {\n      setError(\"Las contraseñas no coinciden\");\n      setLoading(false);\n      return;\n    }\n    if (password.length < 6) {\n      setError(\"La contraseña debe tener al menos 6 caracteres\");\n      setLoading(false);\n      return;\n    }\n\n    // Validación básica de email\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError(\"Por favor ingresa un email válido\");\n      setLoading(false);\n      return;\n    }\n    try {\n      // Enviar petición de registro al backend\n      await register(username, email, password);\n      setSuccess(\"Usuario creado exitosamente. Ahora puedes iniciar sesión.\");\n\n      // Limpiar formulario después del registro exitoso\n      setUsername(\"\");\n      setEmail(\"\");\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n\n      // Opcional: redirigir automáticamente al login después de 2 segundos\n      setTimeout(() => {\n        onBackToLogin();\n      }, 2000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      // Manejar errores del servidor\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Error al crear la cuenta\";\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleRegister,\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Crear Cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nombre de usuario\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        className: \"input-field\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Correo electr\\xF3nico\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        className: \"input-field\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a (m\\xEDnimo 6 caracteres)\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        className: \"input-field\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirmar contrase\\xF1a\",\n        value: confirmPassword,\n        onChange: e => setConfirmPassword(e.target.value),\n        className: \"input-field\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        className: \"btn-primary\",\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), \" Creando cuenta...\"]\n        }, void 0, true) : \"Crear Cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onBackToLogin,\n        className: \"btn-secondary\",\n        disabled: loading,\n        children: \"\\xBFYa tienes cuenta? Inicia sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"O7Pk8DQROxHiIKHpR4V5oMWi+Rk=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","register","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","onRegister","onBackToLogin","_s","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","success","setSuccess","loading","setLoading","handleRegister","e","preventDefault","trim","length","emailRegex","test","setTimeout","err","_err$response","_err$response$data","errorMessage","response","data","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/amaya/Downloads/rag-asistente-main/rag-asistente-main/frontend-react/src/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { register } from \"./api\";\r\n\r\n/**\r\n * Componente de registro de usuarios\r\n * Permite crear nuevas cuentas conectando con el endpoint /auth/register del backend\r\n */\r\nexport default function Register({ onRegister, onBackToLogin }) {\r\n  // Estados del formulario de registro\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  /**\r\n   * Maneja el envío del formulario de registro\r\n   * Valida los datos y envía la petición al backend\r\n   */\r\n  async function handleRegister(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    // Validaciones del lado del cliente\r\n    if (!username.trim() || !email.trim() || !password || !confirmPassword) {\r\n      setError(\"Todos los campos son requeridos\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      setError(\"Las contraseñas no coinciden\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      setError(\"La contraseña debe tener al menos 6 caracteres\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Validación básica de email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setError(\"Por favor ingresa un email válido\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Enviar petición de registro al backend\r\n      await register(username, email, password);\r\n      setSuccess(\"Usuario creado exitosamente. Ahora puedes iniciar sesión.\");\r\n      \r\n      // Limpiar formulario después del registro exitoso\r\n      setUsername(\"\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      \r\n      // Opcional: redirigir automáticamente al login después de 2 segundos\r\n      setTimeout(() => {\r\n        onBackToLogin();\r\n      }, 2000);\r\n      \r\n    } catch (err) {\r\n      // Manejar errores del servidor\r\n      const errorMessage = err.response?.data?.error || \"Error al crear la cuenta\";\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <form onSubmit={handleRegister} className=\"auth-form\">\r\n        <h2>Crear Cuenta</h2>\r\n        \r\n        {/* Campo de nombre de usuario */}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nombre de usuario\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          className=\"input-field\"\r\n          disabled={loading}\r\n        />\r\n        \r\n        {/* Campo de email */}\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Correo electrónico\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          className=\"input-field\"\r\n          disabled={loading}\r\n        />\r\n        \r\n        {/* Campo de contraseña */}\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Contraseña (mínimo 6 caracteres)\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          className=\"input-field\"\r\n          disabled={loading}\r\n        />\r\n        \r\n        {/* Campo de confirmación de contraseña */}\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Confirmar contraseña\"\r\n          value={confirmPassword}\r\n          onChange={(e) => setConfirmPassword(e.target.value)}\r\n          className=\"input-field\"\r\n          disabled={loading}\r\n        />\r\n        \r\n        {/* Botón de registro */}\r\n        <button type=\"submit\" disabled={loading} className=\"btn-primary\">\r\n          {loading ? (\r\n            <>\r\n              <span className=\"loading-spinner\"></span> Creando cuenta...\r\n            </>\r\n          ) : (\r\n            \"Crear Cuenta\"\r\n          )}\r\n        </button>\r\n        \r\n        {/* Botón para volver al login */}\r\n        <button \r\n          type=\"button\" \r\n          onClick={onBackToLogin} \r\n          className=\"btn-secondary\"\r\n          disabled={loading}\r\n        >\r\n          ¿Ya tienes cuenta? Inicia sesión\r\n        </button>\r\n        \r\n        {/* Mostrar mensajes de error */}\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        \r\n        {/* Mostrar mensajes de éxito */}\r\n        {success && <div className=\"success-message\">{success}</div>}\r\n      </form>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,QAAQ,OAAO;;AAEhC;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAIA,eAAe,SAASC,QAAQA,CAAC;EAAEC,UAAU;EAAEC;AAAc,CAAC,EAAE;EAAAC,EAAA;EAC9D;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAE7C;AACF;AACA;AACA;EACE,eAAewB,cAAcA,CAACC,CAAC,EAAE;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBH,UAAU,CAAC,IAAI,CAAC;IAChBJ,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,EAAE,CAAC;;IAEd;IACA,IAAI,CAACX,QAAQ,CAACiB,IAAI,CAAC,CAAC,IAAI,CAACf,KAAK,CAACe,IAAI,CAAC,CAAC,IAAI,CAACb,QAAQ,IAAI,CAACE,eAAe,EAAE;MACtEG,QAAQ,CAAC,iCAAiC,CAAC;MAC3CI,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,IAAIT,QAAQ,KAAKE,eAAe,EAAE;MAChCG,QAAQ,CAAC,8BAA8B,CAAC;MACxCI,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,IAAIT,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAE;MACvBT,QAAQ,CAAC,gDAAgD,CAAC;MAC1DI,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;;IAEA;IACA,MAAMM,UAAU,GAAG,4BAA4B;IAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAAClB,KAAK,CAAC,EAAE;MAC3BO,QAAQ,CAAC,mCAAmC,CAAC;MAC7CI,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,IAAI;MACF;MACA,MAAMtB,QAAQ,CAACS,QAAQ,EAAEE,KAAK,EAAEE,QAAQ,CAAC;MACzCO,UAAU,CAAC,2DAA2D,CAAC;;MAEvE;MACAV,WAAW,CAAC,EAAE,CAAC;MACfE,QAAQ,CAAC,EAAE,CAAC;MACZE,WAAW,CAAC,EAAE,CAAC;MACfE,kBAAkB,CAAC,EAAE,CAAC;;MAEtB;MACAc,UAAU,CAAC,MAAM;QACfvB,aAAa,CAAC,CAAC;MACjB,CAAC,EAAE,IAAI,CAAC;IAEV,CAAC,CAAC,OAAOwB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZ;MACA,MAAMC,YAAY,GAAG,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcI,IAAI,cAAAH,kBAAA,uBAAlBA,kBAAA,CAAoBhB,KAAK,KAAI,0BAA0B;MAC5EC,QAAQ,CAACgB,YAAY,CAAC;IACxB,CAAC,SAAS;MACRZ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACEpB,OAAA;IAAKmC,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5BpC,OAAA;MAAMqC,QAAQ,EAAEhB,cAAe;MAACc,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACnDpC,OAAA;QAAAoC,QAAA,EAAI;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGrBzC,OAAA;QACE0C,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,mBAAmB;QAC/BC,KAAK,EAAErC,QAAS;QAChBsC,QAAQ,EAAGvB,CAAC,IAAKd,WAAW,CAACc,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE;QAC7CT,SAAS,EAAC,aAAa;QACvBY,QAAQ,EAAE5B;MAAQ;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eAGFzC,OAAA;QACE0C,IAAI,EAAC,OAAO;QACZC,WAAW,EAAC,uBAAoB;QAChCC,KAAK,EAAEnC,KAAM;QACboC,QAAQ,EAAGvB,CAAC,IAAKZ,QAAQ,CAACY,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE;QAC1CT,SAAS,EAAC,aAAa;QACvBY,QAAQ,EAAE5B;MAAQ;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eAGFzC,OAAA;QACE0C,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,wCAAkC;QAC9CC,KAAK,EAAEjC,QAAS;QAChBkC,QAAQ,EAAGvB,CAAC,IAAKV,WAAW,CAACU,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE;QAC7CT,SAAS,EAAC,aAAa;QACvBY,QAAQ,EAAE5B;MAAQ;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eAGFzC,OAAA;QACE0C,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,yBAAsB;QAClCC,KAAK,EAAE/B,eAAgB;QACvBgC,QAAQ,EAAGvB,CAAC,IAAKR,kBAAkB,CAACQ,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE;QACpDT,SAAS,EAAC,aAAa;QACvBY,QAAQ,EAAE5B;MAAQ;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC,eAGFzC,OAAA;QAAQ0C,IAAI,EAAC,QAAQ;QAACK,QAAQ,EAAE5B,OAAQ;QAACgB,SAAS,EAAC,aAAa;QAAAC,QAAA,EAC7DjB,OAAO,gBACNnB,OAAA,CAAAE,SAAA;UAAAkC,QAAA,gBACEpC,OAAA;YAAMmC,SAAS,EAAC;UAAiB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,sBAC3C;QAAA,eAAE,CAAC,GAEH;MACD;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,eAGTzC,OAAA;QACE0C,IAAI,EAAC,QAAQ;QACbM,OAAO,EAAE3C,aAAc;QACvB8B,SAAS,EAAC,eAAe;QACzBY,QAAQ,EAAE5B,OAAQ;QAAAiB,QAAA,EACnB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAGR1B,KAAK,iBAAIf,OAAA;QAAKmC,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAErB;MAAK;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAGrDxB,OAAO,iBAAIjB,OAAA;QAAKmC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAEnB;MAAO;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACnC,EAAA,CAlJuBH,QAAQ;AAAA8C,EAAA,GAAR9C,QAAQ;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}